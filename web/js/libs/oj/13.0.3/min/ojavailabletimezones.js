/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","ojs/ojlocaledata","ojs/ojoratimezone","ojs/ojconverterutils-i18n","ojs/ojconfig"],function(e,t,n,o,i){"use strict";const a=o.OraI18nUtils;class l{static getAvailableTimeZonesImpl(){return l._availableTimeZonesImpl(t.__getBundle())}static _getBCP47Lang(e){return e.split("-")[0]}static getDatesNode(e){function t(t){let n=null;const o=e.main[t];return o&&(n=o.dates),n}let n=i.getLocale(),o=t(n);if(o)return o;let a=n.split("-");for(a.pop();a.length>0;){if(n=a.join("-"),o=t(n),o)return o;a.pop()}return e.main["en-US"].dates}static _availableTimeZonesImpl(e){const t=n.OraTimeZone.getInstance(),o={sensitivity:"variant"},i=a.getLocaleElementsMainNodeKey(e),s=(a.getLocaleElementsMainNode(e),a.getLocaleElementsMainNodeKey(e)),r=l._getBCP47Lang(s),c=l.getDatesNode(e),m=c.timeZoneNames.metazone,u=c.timeZoneNames.zone,d=[],f={},g=e.supplemental.timeZoneData,v=new Date,p=[v.getFullYear(),v.getMonth()+1,v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()];function _(e,t){const n=function(e,t,n,o,i){const a=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(a,n,o,i)}(e,t,!1,!0,!1),o=e.ofset(n),i=e.ofset(n+1);return Math.max(o,i)}function N(e){const t=e.split(" ");let n=t[0].split("-");const o=new Date(n[0],n[1]-1,n[2]);return t.length>1&&(n=t[1].split(":"),o.setHours(n[0]),o.setMinutes(n[1])),o.getTime()}function h(t,n,o,i){const l=t.split("/"),s=l[0],c=l[1];let m,u;const d={offsetLocName:null,locName:null},f=i[s];"en"===r?void 0!==l[1]&&(m=" "+l[1],m=m.replace(/_/g," "),m=m.replace("Saigon","Ho Chi Minh City")):void 0!==f&&(m=f[c],void 0!==m&&(m=m.exemplarCity,void 0!==m&&(m=" "+m)));const g=s+"/"+c,v=e.supplemental.metazones;let _=function(e,t,n){const o=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime(),i=t.split("/"),a=i[0],l=i[1];let s=n[a];if(void 0===s)return null;if(s=s[l],void 0===s)return null;const r=s.length;let c,m;for(var u=0;u<r;u++){const e=s[u].usesMetazone._from,t=s[u].usesMetazone._to,n=s[u].usesMetazone._mzone;if(void 0===e&&void 0===t)return n;if(void 0===e&&void 0!==t&&(m=N(t),o<=m))return n;if(void 0!==e&&void 0===t&&(c=N(e),o>=c))return n;if(void 0!==e&&void 0!==t&&(c=N(e),m=N(t),o>=c&&o<m))return n}}(p,g,v);if(void 0!==o&&(_=o[_]),null!=_&&void 0!==_.long&&(u=_.long.generic,void 0===u&&(u=_.long.standard)),void 0===m)return null;let h="(UTC)";return 0!==n&&(h=a.getTimeStringFromOffset("UTC",n,!0,!0),h=`(${h})`),void 0===u&&(u=""),""!==u&&(u=" - "+u),d.offsetLocName=h+m+u,d.locName=m+u,d}function Z(e,t){return e.find(({displayName:e})=>e.offsetLocName===t.offsetLocName)}function C(n,o){let i,a;const l=Object.keys(n);for(let n=0;n<l.length;n++){let s=l[n];if(-1===s.indexOf("Etc/")&&-1===s.indexOf("Ho_Chi_Minh")){i=t.getZone(s,e),a=_(i,p);const n=h(s,a,m,u);if(null!==n)Z(o,n)||("Asia/Saigon"===s&&(s="Asia/Ho_Chi_Minh"),o.push({id:s,displayName:n}));f[s]=a}}}const D=a.getLocaleElementsMainNodeKey(e);if(void 0!==l._timeZoneDataCache&&void 0!==l._timeZoneDataCache[D]){const e=l._timeZoneDataCache[D].availableTimeZones;if(void 0!==e)return e}C(g.zones,d),C(g.links,d),d.sort(function(e,t){return f[t.id]-f[e.id]+e.displayName.locName.localeCompare(t.displayName.locName,i,o)});const M=d.length;for(let e=0;e<M;e++)d[e].displayName=d[e].displayName.offsetLocName;return void 0!==l._timeZoneDataCache&&void 0===l._timeZoneDataCache[D]&&(l._timeZoneDataCache[D]={availableTimeZones:null},l._timeZoneDataCache[D].availableTimeZones=d),d}}l._timeZoneDataCache={},e.AvailableTimeZones=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojavailabletimezones.js.map