{"version":3,"sources":["../debug/ojjoiningdataprovider.js"],"names":["define","ojMap","ojSet","ojeventtarget","Logger","Object","prototype","hasOwnProperty","call","JoiningDataProvider","[object Object]","baseDataProvider","options","_a","_b","this","_mapJoinAttributes","Map","_fks","_transform","_joinDPs","JoiningAsyncIterable","_parent","params","_asyncIterator","JoiningAsyncIterator","Symbol","asyncIterator","_baseIterator","_params","next","then","result","_fetchNext","baseResult","undefined","value","_joiningData","data","joinedData","FetchByKeysResults","fetchParameters","results","_FETCHPARAMETERS","_RESULTS","FetchByOffsetResults","done","_DONE","Item","metadata","_METADATA","_DATA","ItemMetadata","key","_KEY","_getJoinSpec","baseParams","attributes","_seperateBaseJoinAttributes","asyncIterable","fetchFirst","baseAttributes","keys","scope","fetchByKeys","baseResults","metaData","keyValues","i","forEach","_fetchByKeyResultsToArray","joinData","set","clientId","filterCriterion","offset","size","sortCriteria","fetchByOffset","length","resultArray","containsKeys","getTotalSize","totalSize","isEmpty","capabilityName","getCapability","initialSet","initialMap","map","joins","_joinAlias","joinInfo","foreignKeyMapping","foreignKey","foreignKeys","transform","joinedDataProvider","origAttr","iBase","attr","alias","String","name","bJoinAlias","j","has","joinAttrs","get","concat","k","fk","includes","Array","baseData","Promise","resolve","fkValues","promises","_getFKValues","joinDP","capability","implementation","warn","all","resultMetadata","resultData","_assignAliasData","fks","vals","transformParam","item","aliasData","_REFRESH","_MUTATE","_ADDEVENTLISTENER","EventTargetMixin","applyMixin"],"mappings":"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"}