/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","preact/jsx-runtime","ojs/ojtranslation","ojs/ojvcomponent","preact","ojs/ojdomutils"],function(e,t,l,o,s,n){"use strict";var c=function(e,t,l,o){var s,n=arguments.length,c=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,l):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,l,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(c=(n<3?s(c):n>3?s(t,l,c):s(t,l))||c);return n>3&&c&&Object.defineProperty(t,l,c),c};e.Selector=class extends s.Component{constructor(e){super(e),this._handleFocusin=e=>{this.setState({focus:!0})},this._handleFocusout=e=>{this.setState({focus:!1})},this._checkboxListener=e=>{var t,l,o,s;const{selectedKeys:n,rowKey:c,selectionMode:a}=this.props;let r;null!=n&&(e.target.checked?"multiple"===a?r=n.add([c]):"all"===a?r=n.addAll():"single"!==a||n.has(c)||(r=n.clear().add([c])):r="all"===a?n.clear():n.delete([c]),null===(l=(t=this.props).onSelectedKeysChanged)||void 0===l||l.call(t,r),null===(s=(o=this.props).onIndeterminateChanged)||void 0===s||s.call(o,!1))},this.state={focus:!1}}render(e,s){var c;const{rowKey:a,indeterminate:r}=e,i=this._isSelected(a);let d="oj-selector-wrapper oj-component-icon";r?d+=" oj-indeterminate":i&&(d+=" oj-selected"),s.focus&&!n.recentPointer()&&(d+=" oj-focus-highlight");const u=e["aria-labelledby"]||null,h=null==e["aria-label"]||""==(null===(c=e["aria-label"])||void 0===c?void 0:c.trim())?null:e["aria-label"]+(i?l.getTranslatedString("oj-ojSelector.checkboxAriaLabelSelected"):l.getTranslatedString("oj-ojSelector.checkboxAriaLabelUnselected"));return t.jsx(o.Root,Object.assign({class:"oj-selector"},{children:t.jsx("span",Object.assign({class:d},{children:t.jsx("input",{type:"checkbox",class:"oj-selectorbox","data-oj-clickthrough":"disabled","aria-label":h,"aria-labelledby":u,checked:i,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._checkboxListener})}))}))}_isSelected(e){const{selectedKeys:t,selectionMode:l}=this.props;return!!t&&("all"===l?t.isAddAll():t.has(e))}},e.Selector.defaultProps={rowKey:null,indeterminate:!1,selectedKeys:null,selectionMode:"multiple"},e.Selector.metadata={properties:{rowKey:{type:"any"},indeterminate:{type:"boolean",writeback:!0},selectedKeys:{type:"any",writeback:!0},selectionMode:{type:"string",enumValues:["all","multiple","single"]}},extension:{_WRITEBACK_PROPS:["selectedKeys","indeterminate"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-label","aria-labelledby"]}},e.Selector=c([o.customElement("oj-selector")],e.Selector),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojselector.js.map