{"version":3,"sources":["../debug/ojdomscroller.js"],"names":["define","oj","$","DataCollectionUtils","Logger","Object","prototype","hasOwnProperty","call","DomScroller","element","dataprovider","options","this","_data","_asyncIterator","asyncIterator","_element","_contentElement","contentElement","_fetchSize","fetchSize","_maxCount","maxCount","_rowCount","initialRowCount","_successCallback","success","_requestCallback","request","_errorCallback","error","_isOverflowCallback","isOverflow","_beforeFetchCallback","beforeFetch","_beforeScrollCallback","beforeScroll","_localKeyValidator","localKeyValidator","_registerDataSourceEventListeners","_fetchTrigger","fetchTrigger","isNaN","_initialScrollTop","scrollTop","_lastFetchTrigger","_isScrollTriggeredByMouseWheel","_checkViewportCount","_fetchThreshold","elem","_getScrollEventElement","_scrollEventListener","scrollerHeight","clientHeight","maxScrollTop","scrollHeight","_handleExternalScrollerScrollTop","_handleScrollerScrollTop","bind","addEventListener","_wheelEventListener","passive","_mouseDownEventListener","setAsyncIterator","setFetchTrigger","document","body","documentElement","window","destroy","_unregisterDataSourceEventListeners","removeEventListener","checkViewport","forceFetch","_isEndReached","CHECKVIEWPORT_THRESHOLD","warn","_fetchMoreRows","Promise","resolve","_doFetch","self","isMouseWheel","_fetchPromise","then","result","_nextFetchTrigger","undefined","reason","bounds","getBoundingClientRect","bottom","height","_lastMaxScrollTop","Math","max","diff","AgentUtils","getAgentInfo","browser","BROWSER","EDGE","remainingCount","next","_result","value","dataLength","data","length","maxCountLimit","slice","metadata","fetchParameters","size","done","_handleDataRowMutateEvent","event","eventDetail","indexes","keys","detail","add","addBeforeKeys","afterKeys","_handleDataRowAddedOrRemoved","remove","callback","i","rowIdx","keyValidator","forEach","key","ev","_dataProviderEventHandlers","push","eventType","eventHandler"],"mappings":"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"}