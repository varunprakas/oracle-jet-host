{"version":3,"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"names":["define","oj","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","[object Object]","dataProvider","options","_a","_b","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","CacheAsyncIterator","Symbol","asyncIterator","_c","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","size","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","Promise","resolve","CacheAsyncIteratorReturnResult","CacheAsyncIteratorYieldResult","reject","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","cachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","next","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","addEventListener","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","getCapability","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeys","containsKeysResults","Map","item","set","fetchParameters","fetchByKeys","fetchByKeysResults","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchByOffset","fetchFirst","_firstIteratorState","capabilityName","capability","attributeFilter","caching","filterDef","getTotalSize","isEmpty","cachedParams","compareValues","_getFilterDef","filterCriterion","sortCriteria","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"mappings":";;;;;;;AAOAA,OAAO,CAAC,kBAAmB,oBAAqB,uBAAwB,SAAUC,EAAIC,EAAeC,GAAmB,aAEpHF,EAAKA,GAAMG,OAAOC,UAAUC,eAAeC,KAAKN,EAAI,WAAaA,EAAY,QAAIA;;;;;;;;;;;;AA+IjF,MAAMO,EACFC,YAAYC,EAAcC,GACtB,IAAIC,EAAIC,EACRC,KAAKJ,aAAeA,EACpBI,KAAKH,QAAUA,EACfG,KAAKC,oBAAsBF,EAAK,MACxBJ,YAAYO,EAASC,EAA2BC,EAAQC,GACpDL,KAAKE,QAAUA,EACfF,KAAKG,0BAA4BA,EACjCH,KAAKI,OAASA,EACdJ,KAAKK,MAAQA,EACbL,KAAKF,GAAM,IACA,IAAIE,KAAKE,QAAQI,mBAAmBN,KAAKE,QAASF,KAAKG,0BAA2BH,KAAKI,OAAQJ,KAAKK,SAIvHP,EAAKS,OAAOC,cACZT,GACJC,KAAKM,mBAAqB,MACtBX,YAAYO,EAASM,EAAeJ,EAAQC,GACxC,IAAIN,EAAIU,EACRT,KAAKE,QAAUA,EACfF,KAAKQ,cAAgBA,EACrBR,KAAKI,OAASA,EACdJ,KAAKK,MAAQA,EACbL,KAAKU,cAAgB,EACrBV,KAAKW,mBAC4F,aAAjE,QAA1BZ,EAAKG,EAAQL,eAA4B,IAAPE,OAAgB,EAASA,EAAGa,0BACyB,aAApFR,MAAAA,OAAuC,EAASA,EAAOQ,0BACqD,WAA/D,QAA5CH,EAAKP,EAAQW,iCAA8C,IAAPJ,OAAgB,EAASA,EAAGK,uBAE9FnB,OACI,MAAMS,EAASJ,KAAKI,OACdW,GAAQX,MAAAA,OAAuC,EAASA,EAAOW,MAAQX,EAAOW,MAAQ,EAC5F,OAAIf,KAAKW,oBAA6C,IAAvBX,KAAKU,cACzBV,KAAKgB,6BAA6BZ,GAAS,GAAGa,KAAMC,GAChDlB,KAAKmB,WAAWf,EAAQW,EAAMf,KAAKE,QAAQG,MAAMe,YAIrDpB,KAAKmB,WAAWf,EAAQW,EAAMf,KAAKW,mBAAqBX,KAAKE,QAAQG,MAAMe,eAAYC,GAGtG1B,WAAWS,EAAQW,EAAMD,GACrB,IAAII,EACJ,IAAc,IAAVH,GACA,GAAIf,KAAKK,MAAMiB,SAGX,OAFAJ,EAASlB,KAAKK,MAAMkB,YAAYnB,EAAQJ,KAAKU,eAC7CV,KAAKU,cAAgBV,KAAKU,cAAgBQ,EAAOM,KAAKC,OAC/CC,QAAQC,QAAQ,IAAI3B,KAAKE,QAAQ0B,+BAA+BV,EAAQJ,QAGlF,CACD,GAAId,KAAKK,MAAMe,WAAapB,KAAKU,cAAgBK,GAAQf,KAAKK,MAAMiB,SAGhE,OAFAJ,EAASlB,KAAKK,MAAMkB,YAAYnB,EAAQJ,KAAKU,eAC7CV,KAAKU,cAAgBV,KAAKU,cAAgBQ,EAAOM,KAAKC,OAClDzB,KAAKU,cAAgBV,KAAKK,MAAMe,YAAcpB,KAAKK,MAAMiB,SAClDI,QAAQC,QAAQ,IAAI3B,KAAKE,QAAQ2B,8BAA8BX,EAAQJ,IAE3EY,QAAQC,QAAQ,IAAI3B,KAAKE,QAAQ0B,+BAA+BV,EAAQJ,IAE9E,GAAId,KAAKU,cAAgB,EAC1B,OAAO,IAAIgB,QAAQ,CAACC,EAASG,KACzB,GAAI9B,KAAKE,QAAQ6B,0BAA0BC,YAAchC,KAAKU,cAAe,CACzE,MAAMuB,EAAmB,IACdjC,KAAKgB,6BAA6BZ,EAAQW,GAAME,KAAMC,IACzD,KAAIlB,KAAKE,QAAQ6B,0BAA0BC,aAAehC,KAAKU,eAC3DQ,EAAOgB,MAIP,OAAOD,IAHPN,MAOZ,OAAOM,IAGPN,MAELV,KAAK,IACGjB,KAAKgB,6BAA6BZ,EAAQW,GAAME,KAAMC,IACzDlB,KAAKU,cAAgBV,KAAKE,QAAQ6B,0BAA0BC,YACxDd,EAAOgB,KACA,IAAIlC,KAAKE,QAAQ0B,+BAA+BV,EAAOiB,MAAOrB,GAG9D,IAAId,KAAKE,QAAQ2B,8BAA8BX,EAAOiB,MAAOrB,MAMxF,OAAOd,KAAKgB,6BAA6BZ,EAAQW,GAAME,KAAMC,IACzDlB,KAAKU,cAAgBV,KAAKE,QAAQ6B,0BAA0BC,YACxDd,EAAOgB,KACA,IAAIlC,KAAKE,QAAQ0B,+BAA+BV,EAAOiB,MAAOrB,GAG9D,IAAId,KAAKE,QAAQ2B,8BAA8BX,EAAOiB,MAAOrB,KAIhFnB,6BAA6BS,EAAQW,GACjC,IAAIqB,EACAC,EAAiCrC,KAAKE,QAAQ6B,0BAA0BO,kBACxEC,EAAiCvC,KAAKE,QAAQ6B,0BAA0BC,YACxEQ,EAAkCxC,KAAKE,QAAQ6B,0BAA0BU,aA2B7E,OA1BID,GACAxC,KAAKU,gBAAkB6B,GACvB7C,EAAkCgD,8BAA8BtC,EAAQiC,GACxED,EAA4BI,GAG5BxC,KAAKE,QAAQ6B,0BAA0BO,kBACnC5C,EAAkCiD,yBAAyBvC,GAC/DJ,KAAKE,QAAQ6B,0BAA0BU,aAAezC,KAAKQ,cACtDoC,OACA3B,KAAMC,IACPlB,KAAKE,QAAQ6B,0BAA0BC,YACnChC,KAAKE,QAAQ6B,0BAA0BC,YAAcd,EAAOiB,MAAMX,KAAKC,OAC3EzB,KAAKE,QAAQ6B,0BAA0BU,aAAe,KACtDzC,KAAKK,MAAMwC,cAAc3B,IACV,IAAVH,IAAgBf,KAAKK,MAAMiB,UAC3BP,EAAO,IAAMf,KAAKK,MAAMiB,UAAYJ,EAAOiB,MAAMX,KAAKC,OAASV,EACzDf,KAAKQ,cAAcoC,OAAO3B,KAAM6B,IACnC9C,KAAKK,MAAMwC,cAAcC,GAClB5B,IAGRA,IAEXkB,EAA4BpC,KAAKE,QAAQ6B,0BAA0BU,cAEhEL,IAGfpC,KAAK6B,8BAAgC,MACjClC,YAAYwC,EAAOrB,GACfd,KAAKmC,MAAQA,EAETnC,KAAKN,EAAkCqD,aADb1B,IAA1BP,EACiDxB,OAAO0D,OAAO,CAAElC,sBAAAA,GAAyBqB,GAGzCA,EAErDnC,KAAKN,EAAkCuD,QAAS,IAGxDjD,KAAK4B,+BAAiC,MAClCjC,YAAYwC,EAAOrB,GACfd,KAAKmC,MAAQA,EAETnC,KAAKN,EAAkCqD,aADb1B,IAA1BP,EACiDxB,OAAO0D,OAAO,CAAElC,sBAAAA,GAAyBqB,GAGzCA,EAErDnC,KAAKN,EAAkCuD,QAAS,IAGxDjD,KAAKK,MAAQ,IAAIlB,EAAG+D,UACpBlD,KAAKmD,iBAAmB,KACpBvD,EAAawD,wBACbpD,KAAKoD,sBAAyBC,GACnBzD,EAAawD,sBAAsBC,IAG9CzD,EAAa0D,wBACbtD,KAAKsD,sBAAyBC,GACnB3D,EAAa0D,sBAAsBC,IAGlD3D,EAAa4D,iBAAiB9D,EAAkC+D,QAAUC,IACtE1D,KAAKK,MAAMsD,iBAAiBD,EAAME,QAClC5D,KAAK6D,cAAcH,KAEvB9D,EAAa4D,iBAAiB9D,EAAkCoE,SAAWJ,IACvE1D,KAAKK,MAAM0D,QACX/D,KAAKmD,iBAAmB,KACxBnD,KAAK6D,cAAcH,KAEvB1D,KAAKa,0BAA4BjB,EAAaoE,cAAc,cAEhErE,aAAaS,GACT,MAAM6D,EAAe,IAAIC,IACnBC,EAAa,IAAID,IACjBE,EAAepE,KAAKK,MAAMgE,cAAcjE,GAU9C,GATAA,EAAOkE,KAAKC,QAASC,IACJJ,EAAaK,QAAQC,IAAIF,GAElCP,EAAaU,IAAIH,GAGjBL,EAAWQ,IAAIH,KAGC,IAApBL,EAAWpD,KACX,OAAOW,QAAQC,QAAQ,CAAEiD,mBAAoBxE,EAAQqE,QAASR,IAE7D,CACD,MAAMY,EAAY,CAAEC,WAAY1E,EAAO0E,WAAYR,KAAMH,EAAYY,MAAO3E,EAAO2E,OACnF,OAAO/E,KAAKJ,aAAaoF,aAAaH,GAAW5D,KAAMgE,IACnDA,EAAoBR,QAAQF,QAASC,IACjCP,EAAaU,IAAIH,KAEd,CAAEI,mBAAoBxE,EAAQqE,QAASR,MAI1DtE,YAAYS,GACR,MAAM6D,EAAe,IAAIiB,IACnBf,EAAa,IAAID,IACjBE,EAAepE,KAAKK,MAAMgE,cAAcjE,GAU9C,GATAA,EAAOkE,KAAKC,QAASC,IACjB,MAAMW,EAAOf,EAAaK,QAAQC,IAAIF,GAClCW,EACAlB,EAAamB,IAAIZ,EAAKW,GAGtBhB,EAAWQ,IAAIH,KAGC,IAApBL,EAAWpD,KACX,OAAOW,QAAQC,QAAQ,CAAE0D,gBAAiBjF,EAAQqE,QAASR,IAE1D,CACD,MAAMY,EAAY,CAAEC,WAAY1E,EAAO0E,WAAYR,KAAMH,EAAYY,MAAO3E,EAAO2E,OACnF,OAAO/E,KAAKJ,aAAa0F,YAAYT,GAAW5D,KAAMsE,IAClDA,EAAmBd,QAAQF,QAAQ,CAACY,EAAMX,KACtCP,EAAamB,IAAIZ,EAAKW,KAEnB,CAAEE,gBAAiBjF,EAAQqE,QAASR,MAIvDtE,cAAcS,GACV,MAAMW,EAAOX,EAAOW,KAAOX,EAAOW,KAAOrB,EAAkC8F,cAC3E,GAAI9F,EAAkCgD,8BAA8BtC,EAAQJ,KAAKmD,mBAC7E/C,EAAOqF,OAAS1E,GAAQf,KAAKK,MAAMe,UAAW,CAC9C,MAAMsE,EAAgBC,KAAKC,MAAMD,KAAKE,UAAUzF,EAAQ,CAACoE,EAAKrC,KAC1D,IAAIqC,EAAIsB,WAAW,KAGnB,OAAO3D,KAEXuD,EAAc3E,KAAOA,EACrB,MAAM0D,EAAUzE,KAAKK,MAAM0F,gBAAgBL,GAC3C,GAAIjB,EACA,OAAO/C,QAAQC,QAAQ8C,GAG/B,OAAOzE,KAAKJ,aAAaoG,cAAc5F,GAE3CT,WAAWS,GACP,IAAKV,EAAkCgD,8BAA8BtC,EAAQJ,KAAKmD,kBAAmB,CACjGnD,KAAKK,MAAM0D,QACX/D,KAAKmD,iBAAmBzD,EAAkCiD,yBAAyBvC,GACnF,MACMI,EADgBR,KAAKJ,aAAaqG,WAAW7F,GACfG,OAAOC,iBAC3CR,KAAKkG,oBAAsB,CACvB5D,kBAAmBtC,KAAKmD,iBACxBnB,YAAa,EACbS,aAAc,KACdjC,cAAeA,GAGvB,OAAO,IAAIR,KAAKC,mBAAmBD,KAAMA,KAAK+B,0BAA0BvB,cAAeJ,EAAQJ,KAAKK,OAExGV,cAAcwG,GACV,MAAMC,EAAapG,KAAKJ,aAAaoE,cAAcmC,GACnD,MAAuB,oBAAnBA,EACO,CAAEE,gBAAiBD,MAAAA,OAA+C,EAASA,EAAWC,gBAAiBC,QAAS,4BAEpHF,EAEXzG,eACI,OAA6B,MAAzBK,KAAKmD,mBAA6BnD,KAAKmD,iBAAiBoD,WAAavG,KAAKK,MAAMiB,SACzEI,QAAQC,QAAQ3B,KAAKK,MAAMe,WAE/BpB,KAAKJ,aAAa4G,eAE7B7G,UACI,OAA6B,MAAzBK,KAAKmD,mBAA6BnD,KAAKmD,iBAAiBoD,WAAavG,KAAKK,MAAMiB,SAChD,IAAzBtB,KAAKK,MAAMe,UAAkB,MAAQ,KAEzCpB,KAAKJ,aAAa6G,UAE7B9G,0BACI,OAAOK,KAAKkG,oBAEhBvG,qCAAqCS,EAAQsG,GAEzC,OADAtG,EAASA,GAAU,GACK,MAAhBsG,GACJvH,EAAGG,OAAOqH,cAAcD,EAAa5B,WAAY1E,EAAO0E,YAAc,OACtE3F,EAAGG,OAAOqH,cAAcD,EAAaH,UAAW7G,EAAkCkH,cAAcxG,EAAOyG,mBACvG1H,EAAGG,OAAOqH,cAAcD,EAAaI,aAAc1G,EAAO0G,cAAgB,MAElFnH,gCAAgCS,GAC5BA,EAASA,GAAU,GACnB,MAAMkC,EAAoB,GAS1B,OARAA,EAAkBvB,KAAOX,EAAOW,KAChCuB,EAAkBwC,WAAa1E,EAAO0E,WAChCa,KAAKC,MAAMD,KAAKE,UAAUzF,EAAO0E,aACjC,KACNxC,EAAkBiE,UAAY7G,EAAkCkH,cAAcxG,EAAOyG,iBACrFvE,EAAkBwE,aAAe1G,EAAO0G,aAClCnB,KAAKC,MAAMD,KAAKE,UAAUzF,EAAO0G,eACjC,KACCxE,EAEX3C,qBAAqBoH,GACjB,IAAKA,EACD,OAAO,KAEX,MAAMR,EAAY,GAMlB,OALAjH,OAAOgF,KAAKyC,GAAQxC,QAASyC,IACR,WAAbA,IACAT,EAAUS,GAAYD,EAAOC,MAG9BT,GAgCf,OA7BA7G,EAAkCuH,KAAO,MACzCvH,EAAkCwH,MAAQ,OAC1CxH,EAAkCyH,MAAQ,OAC1CzH,EAAkC0H,YAAc,aAChD1H,EAAkC2H,MAAQ,OAC1C3H,EAAkC4H,cAAgB,eAClD5H,EAAkC6H,iBAAmB,kBACrD7H,EAAkC8H,UAAY,WAC9C9H,EAAkC+H,OAAS,QAC3C/H,EAAkCgI,MAAQ,OAC1ChI,EAAkCiI,QAAU,SAC5CjI,EAAkCoE,SAAW,UAC7CpE,EAAkC+D,QAAU,SAC5C/D,EAAkCkI,MAAQ,OAC1ClI,EAAkCmI,iBAAmB,kBACrDnI,EAAkCqD,OAAS,QAC3CrD,EAAkCuD,MAAQ,OAC1CvD,EAAkCoI,SAAW,UAC7CpI,EAAkCqI,oBAAsB,qBACxDrI,EAAkC8F,cAAgB,GAClD9F,EAAkCsI,cAAgB,eAClDtI,EAAkCuI,aAAe,cACjDvI,EAAkCwI,eAAiB,gBACnDxI,EAAkCyI,YAAc,aAChDzI,EAAkC0I,kBAAoB,mBACtD1I,EAAkC2I,iBAAmB,aACrDjJ,EAAckJ,iBAAiBC,WAAW7I,GAC1CP,EAAGqJ,6BAA6B,oCAAqC9I,GAE9DA"}