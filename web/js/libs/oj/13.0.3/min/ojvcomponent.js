/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["require","exports","preact/compat","preact","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojpreact-patch","ojs/ojconfig","@oracle/oraclejet-preact/UNSAFE_Environment","ojs/ojpopupcore","@oracle/oraclejet-preact/UNSAFE_Layer","@oracle/oraclejet-preact/utils/UNSAFE_matchTranslationBundle"],function(e,t,n,s,o,r,i,l,a,c,u,d,p){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const h=(e,t)=>{Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=o.toSymbolizedValue(e[t]))},_=s.options.vnode;s.options.vnode=e=>{const t=e.type;if("string"==typeof t&&o.CustomElementUtils.isElementRegistered(t)){const t=e.props;h(t,"value"),h(t,"checked")}null==_||_(e)};let m,v=0;const f=new Map,y=Symbol();function g(e,t,n,r,i){const a=function(e){let t=e[y];void 0===t&&(t="@oj_s"+v++,e[y]=t);return t}(t),c=function(e,t,n,s){let r,i=0;const a=()=>{0===i&&(r.remove(),s.add(()=>{0===i&&n(r)}))};return n=>{if(null!=n){i++,r=n,r[l.OJ_SLOT_REMOVE]=a;const e=n.parentElement;l.patchSlotParent(e),t(n)}else if(i--,i<0)throw new o.JetElementError(e,"Slot replacer count underflow")}}(e,r,i,n);return s.h(()=>(function(e,t){0===f.size&&(m=document.createElement,document.createElement=P);f.set(e,t)}(a,t),n.add(()=>{return e=a,f.delete(e),void(0===f.size&&(document.createElement=m));var e}),s.h(a,{ref:c,key:a})),null)}function P(e,t){return e.startsWith("@oj_s")?f.get(e):m.call(document,e,t)}class b{parkNode(e){this._getLot().appendChild(e),i.Components&&i.Components.subtreeHidden(e)}disposeNodes(e,t){b._iterateSlots(e,e=>{const n=e.parentElement;this._lot===n?(t(e),this._lot.removeChild(e)):n||t(e)})}disconnectNodes(e){b._iterateSlots(e,e=>{this._lot===e.parentElement&&this._lot.removeChild(e)})}reconnectNodes(e){b._iterateSlots(e,e=>{e.parentElement||this._lot.appendChild(e)})}isParked(e){return(null==e?void 0:e.parentElement)===this._lot}_getLot(){if(!this._lot){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),this._lot=e}return this._lot}static _iterateSlots(e,t){Object.keys(e).forEach(n=>{e[n].forEach(e=>{t(e)})})}}const C=new b,E=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(e,t,n){"-"===t[0]?e.setProperty(t,n):null==n?e[t]="":"number"!=typeof n||E.test(t)?e[t]=n:e[t]=n+"px"}function k(e,t,n,s,o){let r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||S(e.style,t,"");if(n)for(t in n)s&&n[t]===s[t]||S(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])if(r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e._listeners||(e._listeners={}),e._listeners[t+r]=n,n){if(!s){const n=r?A:w;e.addEventListener(t,n,r)}}else{const n=r?A:w;e.removeEventListener(t,n,r)}else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function w(e){this._listeners[e.type+!1](s.options.event?s.options.event(e):e)}function A(e){this._listeners[e.type+!0](s.options.event?s.options.event(e):e)}class T{constructor(){this._queue=[]}add(e){this._queue.push(e)}flush(){this._queue.forEach(e=>e()),this._queue=[]}}const O=Symbol(),j=Symbol(),R=Symbol(),M=new Set,U=Symbol(),L=Symbol();class N{constructor(e,t,n,r,i,l){this.ref=s.createRef(),this._isPatching=!1,this._props={ref:this.ref},this._verifyingState=x.Unset,this._earlySets=[],this._eventQueue=[],this._isRenderQueued=!1,this._executeOnCommit=new T,this._state=o.CustomElementUtils.getElementState(e),this._element=e,this._metadata=n,this._component=t,this._controlledProps=(null==i?void 0:i.length)>0?new Set(i):M,this._controlledAttrs=(null==r?void 0:r.length)>0?new Set(r):M,this._defaultProps=l,this._rootPatchCallback=this._patchRootElement.bind(this)}connectedCallback(){this._verifyConnectDisconnect(x.Connect)}disconnectedCallback(){this._verifyConnectDisconnect(x.Disconnect)}attributeChangedCallback(e,t,n){if(!this._isPatching&&this._state.canHandleAttributes()){const s=o.AttributeUtils.attributeToPropertyName(e),r=s.split(".")[0];if(this._state.dirtyProps.has(r))this._state.dirtyProps.delete(r);else if(t===n)return;null===n&&(n=void 0),"knockout"===this._state.getBindingProviderType()&&(o.AttributeUtils.isGlobalOrData(s)||this._element.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:e,value:n,previousValue:t}})));const[i,l,a]=this._getPropValuePair(e,n);i&&this._updatePropsAndQueueRenderAsNeeded(i,l,a)}}getProperty(e){var t;if(r.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties)){let t=o.CustomElementUtils.getPropertyValue(this._props,e);return void 0===t&&this._defaultProps&&(t=o.CustomElementUtils.getPropertyValue(this._defaultProps,e)),t}return this._element[e]}setProperty(e,t){var n;if(this._isPatching)return;const s=r.getPropertyMetadata(e,null===(n=this._metadata)||void 0===n?void 0:n.properties);s?this._state.allowPropertySets()?(t=o.transformPreactValue(this._element,s,t),this._updatePropsAndQueueRenderAsNeeded(e,t,s)):this._earlySets.push({property:e,value:t}):this._element[e]=t}setProperties(e){this._isPatching||Object.keys(e).forEach(t=>{this.setProperty(t,e[t])})}getProps(){return this._props}isInitialized(){return!!this._vdom}appendChildHelper(e,t){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.appendChild.call(e,t):t}insertBeforeHelper(e,t,n){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.insertBefore.call(e,t,n):t}_render(){var e;if(!this._vdom){this._initializePropsFromDom();const t=this._metadata.events;t&&this._initializeActionCallbacks(t);const n=null===(e=this._metadata.extension)||void 0===e?void 0:e._WRITEBACK_PROPS;n&&this._initializeWritebackCallbacks(n),this._playbackEarlyPropertySets()}const t=this._state.getTranslationBundleMap();this._rootEnvironment||(this._rootEnvironment={user:{locale:a.getLocale()},translations:t}),this._layerContext||(this._layerContext={getHost:u.getLayerHost.bind(null,this._element)});const n=s.h(this._component,this._props),o=s.h(c.RootEnvironmentProvider,{environment:this._rootEnvironment,children:n});this._vdom=s.h(d.LayerContext.Provider,{value:this._layerContext,children:o});const r=n.props;r[O]=this._element,r[j]=this._rootPatchCallback,r[R]=this._executeOnCommit,this._isPatching=!0,s.render(this._vdom,this._element),this._isPatching=!1}_getPropValuePair(e,t){var n,s;if("knockout"!==this._state.getBindingProviderType()||!o.AttributeUtils.getExpressionInfo(t).expr){const i=o.AttributeUtils.attributeToPropertyName(e),l=r.getPropertyMetadata(i,null===(n=this._metadata)||void 0===n?void 0:n.properties);if(l)return l.readOnly?[null,null,null]:[i,o.AttributeUtils.attributeToPropertyValue(this._element,e,t,l),l];const a=o.AttributeUtils.getGlobalPropForAttr(e);if(this._controlledProps.has(a))return[a,null!==(s=this[a])&&void 0!==s?s:t,null]}return[null,null,null]}_updatePropsAndQueueRenderAsNeeded(e,t,n,s=!0){const r=this.getProperty(e);if(n&&o.ElementUtils.comparePropertyValues(n,t,r))return;const l=e.split("."),a=l[0],c=l.length>1;let u=this.getProperty(a);if(i.CollectionUtils.isPlainObject(u)&&(u=i.CollectionUtils.copyInto({},u,void 0,!0)),s&&this._verifyProps(e,t,n),this._updateProps(l,t),!s||this._state.allowPropertyChangedEvents()&&!o.AttributeUtils.isGlobalOrData(e)){this._state.dirtyProps.add(a);const n=s?"external":"internal",o={value:this.getProperty(a),previousValue:u,updatedFrom:n};c&&(o.subproperty={path:e,value:t,previousValue:r});const i=a+"Changed",l=c?null:e=>{if("propChange"!==e.kind||e.type!==i||e.detail.subproperty)return null;const t=Object.assign({},o,{previousValue:e.detail.previousValue});return{type:i,detail:t,collapse:l,kind:"propChange"}};this._queueFireEventsTask({type:i,detail:o,collapse:l,kind:"propChange"})}const d=this._oldRootProps;d&&this._controlledProps.has(e)&&(d[e]=t),this._queueRender(this._vdom&&!(null==n?void 0:n.readOnly))}_queueRender(e){e&&!this._isRenderQueued&&(this._isRenderQueued=!0,window.queueMicrotask(()=>{this._isRenderQueued=!1,this._render()}))}_verifyProps(e,t,n){if(n){if(n.readOnly)throw new o.JetElementError(this._element,`Read-only property '${e}' cannot be set.`);try{r.checkEnumValues(this._element,e,t,n)}catch(e){throw new o.JetElementError(this._element,e.message)}}}_updateProps(e,t){var n,s;const o=e[0];let r=this._props;if(e.length>1){const e=null!==(n=this._props[o])&&void 0!==n?n:null===(s=this._defaultProps)||void 0===s?void 0:s[o];e&&i.CollectionUtils.isPlainObject(e)?r[o]=i.CollectionUtils.copyInto({},e,void 0,!0):r[o]={}}for(;e.length;){const n=e.shift();0===e.length?r[n]=t:r[n]||(r[n]={}),r=r[n]}}_queueFireEventsTask(e){let t=e;const n=this._getEventCollapseInfo(e,this._eventQueue);if(n){const[e,s]=n;this._eventQueue.splice(e,1),t=s}return this._eventQueue.push(t),this._queuedEvents||(this._queuedEvents=new Promise(e=>{window.queueMicrotask(()=>{try{for(;this._eventQueue.length;){const e=this._eventQueue.shift(),t="propChange"===e.kind?new CustomEvent(e.type,{detail:e.detail}):e.event;this._element.dispatchEvent(t)}}finally{e(),this._queuedEvents=null}})})),this._queuedEvents}_getEventCollapseInfo(e,t){var n;if("propChange"!==e.kind)return null;for(let s=0;s<t.length;s++){const o=null===(n=e.collapse)||void 0===n?void 0:n.call(e,t[s]);if(o)return[s,o]}return null}_verifyConnectDisconnect(e){this._verifyingState===x.Unset&&window.queueMicrotask(()=>{this._verifyingState===e&&(this._verifyingState===x.Connect?this._verifiedConnect():this._verifiedDisconnect()),this._verifyingState=x.Unset}),this._verifyingState=e}_verifiedConnect(){if(this._state.isComplete())this._reconnectSlots();else if(this._state.startCreationCycle(),this._state.isCreating()){const e=()=>{this._element[o.CHILD_BINDING_PROVIDER]="preact";let e=this._state.getSlotMap();if(e)this._reconnectSlots();else{e=this._state.getSlotMap(!0);const t=this._removeAndConvertSlotsToProps(e);Object.assign(this._props,t)}this._render()};this._state.setCreateCallback(e),this._state.setBindingsDisposedCallback(()=>this._handleBindingsDisposed())}}_verifiedDisconnect(){this._state.isComplete()?(this._disconnectSlots(),this._state.resetCreationCycle(),s.render(null,this._element),this._applyRef(this._oldRootRef,null),this._oldRootRef=void 0,this._vdom=null):this._state.pauseCreationCycle()}_initializePropsFromDom(){const e=this._element.attributes;for(let t=0;t<e.length;t++){const{name:n,value:s}=e[t],[o,r,i]=this._getPropValuePair(n,s);o&&(this._verifyProps(o,r,i),this._updateProps(o.split("."),r))}}_playbackEarlyPropertySets(){for(var e;this._earlySets.length;){const t=this._earlySets.shift(),n=r.getPropertyMetadata(t.property,null===(e=this._metadata)||void 0===e?void 0:e.properties),s=o.transformPreactValue(this._element,n,t.value);this.setProperty(t.property,s)}}_patchRootElement(e){var t;const n=this._oldRootProps||this._getInitialRootProps(),s=e.props;!function(e,t,n,s,o,r){let i;for(i in n)"children"===i||"key"===i||i in t||r(e,i,null,n[i],s)||k(e,i,null,n[i],s);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||r(e,i,t[i],n[i],s)||k(e,i,t[i],n[i],s)}(this._element,s,n,!1,!1,N._setPropertyOverrides);const o=e.ref;this._oldRootRef!==o&&(this._applyRef(o,this._element),o&&(null===(t=this._oldRootRef)||void 0===t||t.call(this,null))),this._oldRootProps=s,this._oldRootRef=o}_applyRef(e,t){e&&("function"==typeof e?e(t):e.current=t)}static _setPropertyOverrides(e,t,n,s){if("style"===t&&"string"==typeof n)throw new Error("CSS style must be an object. CSS text is not supported");if("class"===t||"className"===t){const t=null==s?M:o.CustomElementUtils.getClassSet(s),r=null==n?M:o.CustomElementUtils.getClassSet(n);for(const n of t.values())r.has(n)||e.classList.remove(n);for(const n of r.values())t.has(n)||e.classList.add(n);return!0}if("o"===t[0]&&"n"===t[1]){const o=t!==(t=t.replace(/Capture$/,"")),r=t.toLowerCase();r in e&&(t=r),t=t.slice(2),N._getRootListeners(e,o)[t]=n;const i=o?N._eventProxyCapture:N._eventProxy;return n?s||e.addEventListener(t,i,o):e.removeEventListener(t,i,o),!0}return"role"===t&&(n?e.setAttribute(t,n):e.removeAttribute(t),!0)}static _getRootListeners(e,t){const n=t?L:U;let s=e[n];return s||(s=e[n]={}),s}_getInitialRootProps(){const e={};for(const t of this._controlledProps.values())t in this._props&&(e[t]=this._props[t]);return e}_removeAndConvertSlotsToProps(e){var t,n;const s=null===(t=this._metadata.extension)||void 0===t?void 0:t._DYNAMIC_SLOT,o=null==s?void 0:s.prop,i=null===(n=this._metadata)||void 0===n?void 0:n.slots,l=Object.keys(e),a={};if(l.length>0&&l.forEach(t=>{const n=e[t];n.forEach(e=>{C.parkNode(e)});const l=r.getPropertyMetadata(t,i);if(l){const e=!!(null==l?void 0:l.data),s=e||""!==t?t:"children";this._assignSlotProperty(a,s,void 0,t,e,n)}else{if(!o)return;a[o]||(a[o]={});const e=s.isTemplate;this._assignSlotProperty(a,t,o,t,e,n)}}),"knockout"===this._state.getBindingProviderType()){let e;for(;e=this._element.firstChild;)this._state.getBindingProviderCleanNode()(e),e.remove()}return a}_assignSlotProperty(e,t,n,s,r,i){var l,a;const c=n?e[n]:e;if(r){if("TEMPLATE"!==(null===(l=i[0])||void 0===l?void 0:l.nodeName))throw new o.JetElementError(this._element,`Slot content for template slot ${s} must be a template element.`);{const e=i[0];c[t]=null!==(a=e.render)&&void 0!==a?a:this._getSlotRenderer(e,t,n)}}else{const e=i.map((e,t)=>g(this._element,e,this._executeOnCommit,this._handleSlotMount.bind(this),this._handleSlotUnmount.bind(this)));c[t]=e}}_getSlotRenderer(e,t,n){const s=this._state.getBindingProvider(),r=s?()=>{(n?this._props[n]:this._props)[t]=this._getSlotRenderer(e,t,n),this._queueRender(!0)}:null;return t=>{const n=this._state.getTemplateEngine();if(!n)throw new o.JetElementError(this._element,"Unexpected call to render a template slot");return n.execute(this._element,e,t,s,r)}}_handleBindingsDisposed(){C.disposeNodes(this._state.getSlotMap(),this._state.getBindingProviderCleanNode()),this._state.disposeTemplateCache()}_disconnectSlots(){C.disconnectNodes(this._state.getSlotMap())}_reconnectSlots(){C.reconnectNodes(this._state.getSlotMap())}_handleSlotUnmount(e){this._state.isComplete()&&C.parkNode(e)}_handleSlotMount(e){var t;const n=null===(t=i.Components)||void 0===t?void 0:t.subtreeShown;n&&(e.isConnected?n(e):this._executeOnCommit.add(()=>n(e)))}static _eventProxy(e){this[U][e.type](s.options.event?s.options.event(e):e)}static _eventProxyCapture(e){this[L][e.type](s.options.event?s.options.event(e):e)}_initializeActionCallbacks(e){Object.keys(e).forEach(t=>{const n=e[t],s=o.AttributeUtils.eventTypeToEventListenerProperty(t);this._props[s]=e=>{const s=Object.assign({},e),o=!!n.cancelable,r=[];o&&(s.accept=e=>{r.push(e)});const i={detail:s,bubbles:!!n.bubbles,cancelable:o},l=new CustomEvent(t,i),a=this._queueFireEventsTask({event:l,kind:"action"});if(o)return a.then(()=>l.defaultPrevented?Promise.reject():Promise.all(r).then(()=>Promise.resolve(),e=>Promise.reject(e)))}})}_initializeWritebackCallbacks(e){e.forEach(e=>{var t;const n=o.AttributeUtils.propertyNameToChangedCallback(e),s=r.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties);this._props[n]=t=>{this._updatePropsAndQueueRenderAsNeeded(e,t,s,!1)}})}}var x;!function(e){e[e.Connect=0]="Connect",e[e.Disconnect=1]="Disconnect",e[e.Unset=2]="Unset"}(x||(x={}));const B=new class{constructor(){this.appendChildHelper=(e,t)=>HTMLElement.prototype.appendChild.call(e,t),this.insertBeforeHelper=(e,t,n)=>HTMLElement.prototype.insertBefore.call(e,t,n)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,n){}getProperty(e){}setProperty(e,t){}setProperties(e){}};class H extends HTMLElement{static get observedAttributes(){let e=[];return this.metadata.properties&&(e=e.concat(r.getFlattenedAttributes(this.metadata.properties))),this.rootObservedAttributes&&(e=e.concat(this.rootObservedAttributes)),e}connectedCallback(){this._getHelper().connectedCallback()}disconnectedCallback(){var e;null===(e=this._helper)||void 0===e||e.disconnectedCallback()}attributeChangedCallback(e,t,n){var s;null===(s=this._helper)||void 0===s||s.attributeChangedCallback(e,t,n)}getProperty(e){return this._getHelper().getProperty(e)}setProperty(e,t){this._getHelper().setProperty(e,t)}setProperties(e){this._getHelper().setProperties(e)}appendChild(e){return this._getHelper().appendChildHelper(this,e)}insertBefore(e,t){return this._getHelper().insertBeforeHelper(this,e,t)}setAttribute(e,t){if("class"===e){const e=o.CustomElementUtils.getClassSet(t);o.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)}removeAttribute(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)}_getHelper(){return this._helper||(this.hasAttribute("data-oj-jsx")?(this.removeAttribute("data-oj-jsx"),this.classList.add("oj-complete"),this._helper=B):this._helper=new N(this,this.constructor.component,this.constructor.metadata,this.constructor.rootObservedAttributes,this.constructor.rootObservedProperties,this.constructor.defaultProps)),this._helper}}const D=new Set(["ar","ar-XB","bg","bs","bs-Cyrl","cs","da","de","el","en","en-XA","en-XC","es","et","fi","fr","fr-CA","he","hr","hu","is","it","ja","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","th","tr","uk","vi","zh-Hans","zh-Hant"]);class I extends o.ElementState{constructor(e){super(e),this._translationBundleMap={}}getTranslationBundleMap(){return this._translationBundleMap}getTemplateEngine(){return I._cachedTemplateEngine}getTrackChildrenOption(){return"immediate"}allowPropertyChangedEvents(){return super.allowPropertyChangedEvents()&&(e=>{var t;const n=e._getHelper();return!!(null===(t=n.isInitialized)||void 0===t?void 0:t.call(n))})(this.Element)}disposeTemplateCache(){var e;const t=this.getSlotMap(),n=Object.keys(t),s=o.CustomElementUtils.getElementDescriptor(this.Element.tagName).metadata,i=null===(e=null==s?void 0:s.extension)||void 0===e?void 0:e._DYNAMIC_SLOT,l=!!(null==i?void 0:i.isTemplate);n.filter(e=>{const t=r.getPropertyMetadata(e,null==s?void 0:s.slots);if(t){if(t.data)return!0}else if(l)return!0;return!1}).forEach(e=>{var n;const s=t[e];"TEMPLATE"===(null===(n=s[0])||void 0===n?void 0:n.nodeName)&&this.getTemplateEngine().cleanupTemplateCache(s[0])})}GetPreCreatedPromise(){let e=super.GetPreCreatedPromise();return this.Element.constructor.translationBundleMap&&(e=e.then(()=>this._getTranslationBundlesPromise())),!I._cachedTemplateEngine&&this._hasDirectTemplateChildren()?e.then(()=>this._getTemplateEnginePromise()):e}IsTransferAttribute(e){return this.Element.constructor.rootObservedAttrSet.has(e)}GetDescriptiveTransferAttributeValue(e){return((e,t)=>{var n;const s=e.getAttribute(t);if(s)return s;const o=e._getHelper();return((null===(n=o.getProps)||void 0===n?void 0:n.call(o))||{})[t]})(this.Element,e)}_getTranslationBundlesPromise(){void 0===I._translationBundleLocale&&(I._translationBundleLocale=p.matchTranslationBundle([a.getLocale()],D));const e=this.Element.constructor.translationBundleMap,t=Object.keys(e),n=[];return t.forEach(t=>{if(!I._bundlePromiseCache[t]){const n=e[t];I._bundlePromiseCache[t]=n(I._translationBundleLocale)}n.push(I._bundlePromiseCache[t])}),Promise.all(n).then(e=>{t.forEach((t,n)=>{this._translationBundleMap[t]=e[n]})})}_getTemplateEnginePromise(){return new Promise(function(t,n){e(["ojs/ojvcomponent-template"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}(e))},n)}).then(e=>{I._cachedTemplateEngine=e})}_hasDirectTemplateChildren(){const e=this.Element.childNodes;for(let t=0;t<e.length;t++){if("template"===e[t].localName)return!0}return!1}}I._bundlePromiseCache={};const V=()=>{throw new Error("The Root component should only be used as the top-level return from a VComponent render function.  It will be rewritten by VComponent code so Preact will never actually render it unless it appears in an invalid location.")};function q(e){return function(t){var n;const i=t.metadata,l=(null===(n=null==i?void 0:i.extension)||void 0===n?void 0:n._OBSERVED_GLOBAL_PROPS)||[],a=l.map(e=>o.AttributeUtils.getGlobalAttrForProp(e));!function(e,t,n,r){const i=t.prototype.render;t.prototype.render=function(t,l,a){var c;const u=null===(c=null==n?void 0:n.extension)||void 0===c?void 0:c._READ_ONLY_PROPS;u&&u.forEach(e=>delete t[e]);const d=t[O],p=!!d;p&&o.CustomElementUtils.getElementState(d).disposeTemplateCache();let h=i.call(this,t,l,a);if((null==h?void 0:h.type)===V&&(h=s.cloneElement(h),h.type=e),(null==h?void 0:h.type)!==e){const r={};return p?h:(r.ref=function(e){e&&(e[o.CustomElementUtils.VCOMP_INSTANCE]={props:t})},r["data-oj-jsx"]="",Object.keys(t).forEach(e=>{F(e,n)&&(r[e]=t[e])}),s.h(e,r,h))}if(!p){const e=null==h?void 0:h.props;t.style&&e.style&&(e.style=Object.assign({},t.style,e.style));const s=t.class;if(s){const t=e.class||"";e.class=`${s} ${t}`}return e["data-oj-jsx"]="",Object.keys(t).forEach(s=>{s in e||r.has(s)||!F(s,n)||(e[s]=t[s])}),h}return t[j](h),s.h(s.Fragment,{},null==h?void 0:h.props.children)}}(e,t,i,new Set(l)),function(e){const t=e.prototype,n=t.componentDidMount,s=t.componentDidUpdate;t.componentDidMount=function(){z.call(this),null==n||n.call(this)},t.componentDidUpdate=function(...e){z.call(this),null==s||s.apply(this,e)}}(t),function(e,t,n,s,i,l){class a extends H{}a.metadata=t||{},a.component=n,a.rootObservedAttributes=i,a.rootObservedAttrSet=new Set(i),a.rootObservedProperties=s,a.defaultProps=n.defaultProps?r.deepFreeze(n.defaultProps):null,a.translationBundleMap=l,function(e,t){if(!t)return;for(let n in t)Object.defineProperty(e,n,{get(){return this.getProperty(n)},set(e){this.setProperty(n,e)}})}(a.prototype,null==t?void 0:t.properties),function(e,t){if(!t)return;for(let n in t)e[n]=function(){if(this._helper===B)throw new o.JetElementError(this,"Cannot access element methods when rendered as a value based element.");const e=this._helper.ref.current;if(!e)throw new o.JetElementError(this,"Cannot access methods before element is upgraded.");return e[n].apply(e,arguments)}}(a.prototype,null==t?void 0:t.methods),o.CustomElementUtils.registerElement(e,{descriptor:{metadata:t},stateClass:I,vcomp:!0},a)}(e,i,t,l,a,t.translationBundleMap)}}function z(){const e=this.props[R];e&&e.flush()}function F(e,t){return"className"===e||o.AttributeUtils.isGlobalOrData(e)||function(e,t){var n,s;if(null===(n=null==t?void 0:t.properties)||void 0===n?void 0:n[e])return!1;const o=e.match(Q);if(o){const e=o[1].toLowerCase()+o[2];return!(null===(s=null==t?void 0:t.events)||void 0===s?void 0:s[e])}return!1}(e,t)}const Q=/^on(?!.*Changed$)([A-Za-z])([A-Za-z]*)$/;"undefined"!=typeof window&&(HTMLTemplateElement.prototype.hasOwnProperty("render")||Object.defineProperty(HTMLTemplateElement.prototype,"render",{value:null,writable:!0}));const G=o.ElementUtils.getUniqueId.bind(null,null);t.Root=V,t.customElement=q,t.getUniqueId=G,t.method=function(e,t,n){},t.registerCustomElement=function(e,t,n){class o extends s.Component{render(){return t(arguments[0])}}return o.displayName=arguments[2],arguments.length>=4&&arguments[3]&&(o.metadata=arguments[3],arguments.length>=5&&arguments[4]&&(o.defaultProps=arguments[4])),arguments.length>=6&&(o.translationBundleMap=arguments[5]),q(e)(o),o},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojvcomponent.js.map