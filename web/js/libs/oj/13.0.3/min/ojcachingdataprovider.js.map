{"version":3,"sources":["../debug/ojcachingdataprovider.js"],"names":["define","Logger","_a","CacheEvictionStrategy","CacheStatus","FetchDirection","AsyncIteratorWrapper","[object Object]","asyncIterator","cache","cacheEntries","this","promise","next","then","result","value","start","data","length","end","concat","metadata","done","push","miss","status","READY","AsyncIterableWrapper","asyncIterable","Symbol","dataProvider","options","strategy","NEVER","prefetching","currentStart","CACHE_MISS_THRESHOLD","startIndex","cacheQueue","modelEventHandler","_handleModelEvent","bind","addEventListener","removeEventListener","params","_resetCache","fetchFirst","fetchByKeys","containsKeys","undefined","proximity","size","direction","UP","offset","DOWN","_isInCache","info","forEach","cacheInfo","FETCHING","_log","fetchByOffsetPromise","Promise","resolve","reject","fetchByOffset","i","results","item","_getFetchByOffsetResult","fetchParameters","_recalibrateCache","_updateCacheEntries","PURGED","relStart","relEnd","getTotalSize","isEmpty","capabilityName","getCapability","eventType","listener","event","dispatchEvent","type","_handleRowsRefreshed","detail","add","_handleRowsAdded","remove","_handleRowsRemoved","update","_handleRowsUpdated","_dumpCacheStatus","entry","_prefetchRange","success","keyField","callback1","callback2","indexes","index","_handleRowsMutated","splice","Math","max","msg","_getStatusText"],"mappings":"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"}