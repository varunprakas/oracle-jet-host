define(["exports","preact/jsx-runtime","preact/hooks","./hooks/UNSAFE_useId",'css!./UNSAFE_Collapsible.css',"./utils/UNSAFE_classNames","./UNSAFE_Flex","./index-c2eae4df","./classNames-73af7744","./index-c0d64413","./Flex-155c2aac","./hooks/UNSAFE_useAnimation","./tslib.es6-5322d4a4","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./utils/UNSAFE_stringUtils","./stringUtils-f9014434","./_curry1-2a38bee3","./utils/UNSAFE_mergeInterpolations","./_curry2-531229e9","./_has-3f42f5b3","./utils/UNSAFE_interpolations/boxalignment","./keys-5462bc54","./utils/UNSAFE_interpolations/flexbox","./flexbox-be79af91","./utils/UNSAFE_interpolations/flexitem","./flexitem-d070b54e","./UNSAFE_Icon","./Icon-404367f1","./hooks/UNSAFE_useUser","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTheme"],(function(e,n,i,s,t,o,a,d,l,c,r,u,x,m,p,g,b,h,E,f,j,S,_,N,U,A,F,I,v,k,y,O,H,C,D,T){"use strict";const z="b1gp27yz",$="d1mpodss",w=({contentId:e,isDisabled:i,headerId:s,isExpanded:t,onClick:o})=>{const a=l.classNames([z,i&&$]),r=t?c.SvgIcoChevronDown:d.CollapseIcon;return n.jsx("button",Object.assign({class:a,"aria-labelledby":s,"aria-controls":e,"aria-expanded":t,onClick:o},{children:n.jsx(r,{size:"6x"})}))},R="bchzlky",Y="dxflc5a",L=({children:e,id:i,contentId:s,isDisabled:t,isExpanded:o,toggleHandler:a})=>{const d=l.classNames([R,t&&Y]);return n.jsx("div",Object.assign({id:i,class:d,onClick:a},{children:n.jsxs(r.Flex,Object.assign({align:"center"},{children:[n.jsx(w,{isDisabled:t,headerId:i,contentId:s,isExpanded:o}),e]}))}))},M=({children:e,id:s,isExpanded:t,onTransitionEnd:o})=>{const[a,d]=i.useState(t?"mounted":"unmounted"),[l,c]=i.useState(t),r=t!==l||["mounting","unmounting"].includes(a);i.useEffect((()=>{r&&d(t?"mounting":"unmounting")}),[t,r]);const{nodeRef:x}=u.useAnimation(["mounted","mounting"].includes(a)?"expanded":"collapsed",{animationStates:P,onAnimationEnd:({animationState:e})=>{const n="expanded"===e;d(n?"mounted":"unmounted"),c(n),null==o||o()}});return n.jsx("div",Object.assign({ref:x,id:s,tabIndex:-1,"aria-hidden":!t||void 0},{children:(r||"mounted"===a)&&e}))},P={expanded:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflowY:"hidden"},options:{duration:400},end:{maxHeight:"none"}}),collapsed:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}}),{to:{overflowY:"hidden",maxHeight:"0"},options:{duration:400}})};e.Collapsible=({id:e,header:t,children:o,isDisabled:a=!1,isExpanded:d=!1,onToggle:l,onTransitionEnd:c})=>{const r=i.useRef(null),u=s.useId(),x=`oj-collapsible-header-${u}`,m=`oj-collapsible-content-${u}`;return n.jsxs("div",Object.assign({id:e,ref:r},{children:[n.jsx(L,Object.assign({id:x,contentId:m,toggleHandler:()=>{a||null==l||l({value:!d})},isDisabled:a,isExpanded:d},{children:t})),n.jsx(M,Object.assign({id:m,isExpanded:d,onTransitionEnd:()=>{null==c||c({value:d})}},{children:o}))]}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Collapsible.js.map
