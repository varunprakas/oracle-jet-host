define(["exports","preact/hooks","../tslib.es6-5322d4a4"],(function(t,e,n){"use strict";function s(t){if(!t)return{};const{translateX:e,translateY:s,translateZ:r,rotateX:a,rotateY:c,rotateZ:o,scaleX:u,scaleY:i,scaleZ:l,skewX:f,skewY:$}=t,d=n.__rest(t,["translateX","translateY","translateZ","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY"]),b=`${t.transform||""}${function(t,e,n){return`${t?` translateX(${t})`:""}${e?` translateY(${e})`:""}${n?` translateZ(${n})`:""}`}(e,s,r)}${function(t,e,n){return`${t?` rotateX(${t})`:""}${e?` rotateY(${e})`:""}${n?` rotateZ(${n})`:""}`}(a,c,o)}${function(t,e,n){return`${t||0===t?` scaleX(${t})`:""}${e||0===e?` scaleY(${e})`:""}${n||0===n?` scaleZ(${n})`:""}`}(u,i,l)}${function(t,e){return`${t?` skewX(${t})`:""}${e?` skewY(${e})`:""}`}(f,$)}`;return Object.assign(Object.assign({},d),b&&{transform:b})}function r(t){if(!t)return{};const e=s(t),{offset:r}=e,a=n.__rest(e,["offset"]);return Object.assign(Object.assign({},a),r&&{cssOffset:r})}function a(t){t&&(t.commitStyles(),t.cancel())}function c(t,e,n){const r=e?Object.assign(Object.assign({},s(n.to)),s(n.end)):s(n.end);for(const e in r)t.style[e]=r[e]}t.useAnimation=function(t,{animationStates:n,isAnimatedOnMount:s=!1,onAnimationEnd:o=(()=>{})}){const u=e.useRef(!1),i=e.useRef(null),l=e.useRef(),f=e.useRef(),$=e.useRef(n);e.useLayoutEffect((()=>{a(f.current);const e=i.current;if(!e)return;const n=l.current;l.current=t;const d=function(t,e,n,s){const r=t[`${s} => ${n}`]||t[n],a="function"==typeof r?r(e):r;return a&&Object.keys(a).length>0?a:null}($.current,e,t,n);d&&(u.current||(u.current=!0,s)?f.current=function(t,e,n,s){const{delay:o,duration:u,easing:i}=t.options||{},l={delay:o||0,duration:u||400,easing:i?"string"==typeof i?i:`cubic-bezier(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`:"ease"},f=e.animate([r(t.from),r(t.to)],Object.assign(Object.assign({},l),{fill:"forwards"}));return f.onfinish=()=>{a(f),c(e,!1,t),null==s||s({animationState:n})},f}(d,e,t,o):c(e,!0,d))}),[t]);const d=e.useCallback((()=>{const t=f.current;"running"===(null==t?void 0:t.playState)&&(t.currentTime=0,a(t))}),[]);return{nodeRef:i,controller:{cancel:d}}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_useAnimation.js.map
