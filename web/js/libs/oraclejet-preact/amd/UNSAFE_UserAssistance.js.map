{"version":3,"file":"UNSAFE_UserAssistance.js","sources":["../../src/UNSAFE_UserAssistance/InlineHelpSource.tsx","../../src/UNSAFE_UserAssistance/InlineHelp.tsx","../../src/UNSAFE_UserAssistance/InlineRequired.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistanceContainer.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistance.tsx"],"sourcesContent":["import { cssProps } from '@oracle/oraclejet-cssprops';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\nconst rootStyles = cssProps`${{\n  color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color)',\n  lineHeight: 'inherit',\n  textDecorationLine: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-decoration-line)',\n  cursor: 'var(--oj-c-PRIVATE-DO-NOT-USE-core-cursor-clickable)',\n\n  '&:visited': {\n    color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color-visited)'\n  },\n\n  '&:active': {\n    color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color-active)'\n  },\n\n  '&:hover': {\n    textDecorationLine: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-decoration-line-hover)',\n\n    transitionProperty: 'text-decoration',\n    transitionDuration: 'var(--oj-c-PRIVATE-DO-NOT-USE-animation-duration-long)'\n  },\n\n  // TODO: use cross-browser supported focus strategy\n  '&:focus-visible': {\n    outlineColor: 'var(--oj-c-PRIVATE-DO-NOT-USE-core-focus-border-color)',\n    outlineStyle: 'dotted',\n    outlineWidth: '1px',\n    outlineOffset: '-1px'\n  }\n}}`;\n\ntype Props = {\n  children?: string;\n  source: string;\n};\n\nexport function InlineHelpSource({ children, source }: Props) {\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const userAssistance_learnMoreStr = translations.userAssistance_learnMore();\n  children = children ?? userAssistance_learnMoreStr;\n  // TODO: Implement and use a preact Link component instead of using an anchor tag\n  return (\n    <a class={rootStyles} target=\"_blank\" href={source}>\n      {children}\n    </a>\n  );\n}\n","import { cssProps } from '@oracle/oraclejet-cssprops';\nimport { InlineHelpSource } from './InlineHelpSource';\n\nconst helpTextStyles = cssProps`${{\n  marginInlineEnd: '0.25rem',\n  whiteSpace: 'pre'\n}}`;\n\ntype Props = {\n  assistiveText?: string;\n  sourceLink?: string;\n  sourceText?: string;\n};\n\nexport function InlineHelp({ assistiveText, sourceLink, sourceText }: Props) {\n  return (\n    <div>\n      {assistiveText && sourceLink ? (\n        <span class={helpTextStyles}>{assistiveText}</span>\n      ) : (\n        assistiveText\n      )}\n      {sourceLink && <InlineHelpSource source={sourceLink}>{sourceText}</InlineHelpSource>}\n    </div>\n  );\n}\n","import { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\nconst variantStyles = {\n  start: cssProps`${{\n    paddingInlineEnd: '2px',\n    textAlign: 'start'\n  }}`,\n  end: cssProps`${{\n    paddingInlineStart: '2px',\n    textAlign: 'end'\n  }}`\n};\nconst displayHiddenStyles = cssProps`${{\n  display: 'none'\n}}`;\n\ntype Props = {\n  align?: 'start' | 'end';\n  hasMessages?: boolean;\n  hasHelp?: boolean;\n};\n\nexport function InlineRequired({ align = 'end', hasHelp = false, hasMessages = false }: Props) {\n  const classes = classNames([\n    variantStyles[align],\n    (hasHelp || hasMessages) && displayHiddenStyles\n  ]);\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const requiredStr = translations.userAssistance_required();\n\n  return <div class={classes}>{requiredStr}</div>;\n}\n","import { ComponentChildren } from 'preact';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { UserAssistanceDensityType } from './InlineUserAssistance';\n\nconst baseStyles = cssProps`${{\n  marginTop: '2px',\n  color: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-text-color)',\n  fontSize: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-font-size)',\n  fontWeight: 'normal',\n  lineHeight: 1.333,\n  wordBreak: 'break-word'\n}}`;\nconst variantStyles = {\n  reflow: cssProps`${{\n    '&:empty': {\n      marginTop: '0px'\n    }\n  }}`,\n  efficient: cssProps`${{\n    minHeight: '1.333rem'\n  }}`\n};\n\ntype Props = {\n  children?: ComponentChildren;\n  id?: string;\n  variant?: UserAssistanceDensityType;\n};\n\n// defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l\n// will pass down its type which defaults to 'efficient' (TODO).\nexport function InlineUserAssistanceContainer({ variant = 'reflow', children, id }: Props) {\n  const classes = classNames([baseStyles, variantStyles[variant]]);\n\n  return (\n    <div class={classes} id={id}>\n      {children}\n    </div>\n  );\n}\n","import { ComponentMessageItem, ComponentMessageContainer } from '../UNSAFE_ComponentMessage';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { InlineHelp } from './InlineHelp';\nimport { InlineRequired } from './InlineRequired';\nimport { InlineUserAssistanceContainer } from './InlineUserAssistanceContainer';\n\n// TODO: support 'compact' density type\nexport type UserAssistanceDensityType = 'reflow' | 'efficient';\n\ntype Props = {\n  assistiveText?: string;\n  helpSourceLink?: string;\n  helpSourceText?: string;\n  id?: string;\n  isRequiredShown?: boolean;\n  messages?: ComponentMessageItem[];\n  userAssistanceDensity?: UserAssistanceDensityType;\n};\n\n// This has the precedence rules for the user assistance.\nexport function InlineUserAssistance({\n  assistiveText,\n  helpSourceLink,\n  helpSourceText,\n  id,\n  isRequiredShown,\n  messages = [],\n  userAssistanceDensity\n}: Props) {\n  const { isReadonly: isFormReadonly } = useFormContext();\n  const needsUserAssistanceIfNoContent =\n    userAssistanceDensity === 'efficient' && isFormReadonly === false;\n  const { isFocused } = useFormFieldContext();\n  const uaInlineContent =\n    messages.length > 0 ? (\n      <ComponentMessageContainer messages={messages} />\n    ) : (assistiveText || helpSourceLink) && isFocused ? (\n      <InlineHelp\n        assistiveText={assistiveText}\n        sourceLink={helpSourceLink}\n        sourceText={helpSourceText}\n      />\n    ) : isRequiredShown ? (\n      <InlineRequired />\n    ) : null;\n\n  // when reflow we do not render unless it has content.\n  // when efficient we render regardless of if it has content.\n  // TODO: Get the userAssistanceDensity value from the FormContext\n  return uaInlineContent || needsUserAssistanceIfNoContent ? (\n    <InlineUserAssistanceContainer id={id} variant={userAssistanceDensity}>\n      {uaInlineContent}\n    </InlineUserAssistanceContainer>\n  ) : null;\n}\n"],"names":["InlineHelpSource","children","source","userAssistance_learnMoreStr","useTranslationBundle","userAssistance_learnMore","_jsx","Object","assign","class","target","href","InlineHelp","assistiveText","sourceLink","sourceText","_jsxs","jsx","variantStyles","InlineRequired","align","hasHelp","hasMessages","requiredStr","userAssistance_required","classes","InlineUserAssistanceContainer","variant","id","classNames","helpSourceLink","helpSourceText","isRequiredShown","messages","userAssistanceDensity","isReadonly","isFormReadonly","useFormContext","needsUserAssistanceIfNoContent","isFocused","useFormFieldContext","uaInlineContent","length","ComponentMessageContainer"],"mappings":"++CAuCA,SAAAA,IAAAC,SAAAA,EAAAC,OAAAA,IACE,MACAC,EADAC,uBAAA,4BACAC,2BAGA,qBAAAC,MAAA,IAAAC,OAAAC,OAAA,CAAAC,MAxCF,WAwCEC,OAAA,SAAAC,KAAAT,GAAA,CAAAD,SAAAA,KC9BF,SAAAW,IAAAC,cAAAA,EAAAC,WAAAA,EAAAC,WAAAA,IACE,OAAAC,EAAAA,KAAA,MAAA,CAAAf,SAAA,CAAAY,GAAAC,EAAAR,EAAAW,IAAA,OAAAV,OAAAC,OAAA,CAAAC,MAZF,YAYE,CAAAR,SAAAY,KAAAA,EAAAC,GAAAR,EAAAW,IAAAjB,GAAAO,OAAAC,OAAA,CAAAN,OAAAY,GAAA,CAAAb,SAAAc,QCVF,MAAAG,GAAA,OAAA,2BAoBA,SAAAC,IAAAC,MAAAA,EAAA,MAAAC,QAAAA,GAAA,EAAAC,YAAAA,GAAA,iCAGID,GAAAC,IAbJ,YAiBEC,EADAnB,uBAAA,4BACAoB,0BAEA,OAAAlB,MAAA,MAAAC,OAAAC,OAAA,CAAAC,MAAAgB,GAAA,CAAAxB,SAAAsB,KC7BF,MAQAL,GAAA,QAAA,gCAmBA,SAAAQ,IAAAC,QAAAA,EAAA,SAAA1B,SAAAA,EAAA2B,GAAAA,IACE,MAAAH,EAAAI,EAAAA,WAAA,CA5BF,WA4BEX,GAAAS,KAEA,OAAArB,MAAA,MAAAC,OAAAC,OAAA,CAAAC,MAAAgB,EAAAG,GAAAA,GAAA,CAAA3B,SAAAA,gGCdmCY,cACnCA,EADmCiB,eAEnCA,EAFmCC,eAGnCA,EAHmCH,GAInCA,EAJmCI,gBAKnCA,EALmCC,SAMnCA,EAAW,GANwBC,sBAOnCA,IAEA,MAAQC,WAAYC,GAAmBC,EAAcA,iBAC/CC,EACsB,cAA1BJ,IAA4D,IAAnBE,GACrCG,UAAEA,GAAcC,EAAAA,sBAChBC,EACJR,EAASS,OAAS,EAChBpC,EAAAW,IAAC0B,EAAyBA,0BAAC,CAAAV,SAAUA,KAClCpB,GAAiBiB,IAAmBS,EACvCjC,EAAAA,IAACM,GAAU,CACTC,cAAeA,EACfC,WAAYgB,EACZf,WAAYgB,IAEZC,EACF1B,EAAAW,IAACE,GAAc,IACb,KAKN,OAAOsB,GAAmBH,EACxBhC,EAAAW,IAACS,GAA6BnB,OAAAC,OAAA,CAACoB,GAAIA,EAAID,QAASO,GAC7C,CAAAjC,SAAAwC,KAED"}